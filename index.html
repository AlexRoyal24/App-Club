<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MiniRed Social</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Modal pantalla completa -->
  <div class="modal" id="loginModal">
    <h2>Bienvenido a MiniRed Social</h2>
    <button onclick="mostrarLogin()">Iniciar Sesi√≥n</button>
    <button onclick="mostrarRegistro()">Registrarme</button>

    <div id="loginForm" class="form-container">
      <input type="email" id="email" placeholder="Correo electr√≥nico"><br>
      <input type="password" id="password" placeholder="Contrase√±a (8 caracteres)"><br>
      <button onclick="iniciarSesion()">Entrar</button>
    </div>

    <div id="registroForm" class="form-container">
      <input type="email" id="emailReg" placeholder="Correo electr√≥nico"><br>
      <input type="password" id="passwordReg" placeholder="Contrase√±a (8 caracteres)"><br>
      <button onclick="registrarme()">Registrarme</button>
    </div>
  </div>

  <!-- Secciones principales -->
  <main>
    <section id="inicio" class="section active">
      <!-- Historias -->
      <div class="stories">
        <div class="story" onclick="openStory('img/foto1.jpg')">
          <img src="img/foto1.jpg" alt="Historia de Alex">
          <p>Alex</p>
        </div>
        <div class="story" onclick="openStory('img/foto2.jpg')">
          <img src="img/foto2.jpg" alt="Historia de Naunet">
          <p>Naunet</p>
        </div>
        <div class="story" onclick="openStory('img/foto3.jpg')">
          <img src="img/foto3.jpg" alt="Historia de Amigo">
          <p>Amigo</p>
        </div>
      </div>

      <!-- Feed tipo TikTok -->
      <div class="feed" id="feed">
        <div class="post">
          <video src="videos/video1.mp4" muted loop></video>
          <div class="info">@usuario1</div>
        </div>
        <div class="post">
          <img src="img/foto1.jpg" alt="Foto de usuario2">
          <div class="info">@usuario2</div>
        </div>
        <div class="post">
          <video src="videos/video2.mp4" muted loop></video>
          <div class="info">@usuario3</div>
        </div>
      </div>
    </section>

    <!-- Secci√≥n Agregar -->
    <section id="agregar" class="section">
      <h2>‚ûï Agregar Publicaci√≥n</h2>
      <p>Aqu√≠ podr√°s subir fotos, videos o audios.</p>

      <!-- Bot√≥n funcional -->
      <button class="upload-btn" id="uploadBtn">üì§ Subir archivo</button>
      <input type="file" id="fileInput" accept="image/*,video/*,audio/*" style="display:none">
      
      <!-- Vista previa -->
      <div id="preview" style="margin-top:15px;"></div>
    </section>

    <section id="buscar" class="section">
      <h2>üîç Buscar</h2>
      <p>Aqu√≠ se mostrar√°n los resultados de b√∫squeda.</p>
    </section>

    <section id="perfil" class="section">
      <h2>üë§ Perfil</h2>
      <p>Aqu√≠ ir√° la informaci√≥n del usuario.</p>
    </section>
  </main>

  <!-- Navbar inferior -->
  <nav class="bottom-nav">
    <button class="active" onclick="mostrarSeccion('inicio', this)">üè†</button>
    <button onclick="mostrarSeccion('agregar', this)">‚ûï</button>
    <button onclick="mostrarSeccion('buscar', this)">üîç</button>
    <button onclick="mostrarSeccion('perfil', this)">üë§</button>
  </nav>

  <!-- Modal historias -->
  <div class="story-modal" id="storyModal">
    <img id="storyImg" src="" alt="Historia">
  </div>

  <!-- Modal reels -->
  <div class="reel-modal" id="reelModal">
    <button class="close-btn" onclick="closeReel()">‚úñ</button>
    <video id="reelVideo" controls></video>
    <div class="reel-actions">
      <button onclick="alert('Te gust√≥ ‚ù§Ô∏è')">‚ù§Ô∏è</button>
      <button onclick="alert('Abrir comentarios üí¨')">üí¨</button>
      <button onclick="alert('Compartido ‚Ü™Ô∏è')">‚Ü™Ô∏è</button>
    </div>
  </div>

  <script>
    // Bot√≥n que abre el input
    document.getElementById("uploadBtn").addEventListener("click", () => {
      document.getElementById("fileInput").click();
    });

    // Vista previa del archivo
    document.getElementById("fileInput").addEventListener("change", function(event) {
      const file = event.target.files[0];
      const preview = document.getElementById("preview");
      preview.innerHTML = "";

      if (file) {
        if (file.type.startsWith("image/")) {
          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.style.maxWidth = "200px";
          preview.appendChild(img);
        } else if (file.type.startsWith("video/")) {
          const video = document.createElement("video");
          video.src = URL.createObjectURL(file);
          video.controls = true;
          video.style.maxWidth = "250px";
          preview.appendChild(video);
        } else if (file.type.startsWith("audio/")) {
          const audio = document.createElement("audio");
          audio.src = URL.createObjectURL(file);
          audio.controls = true;
          preview.appendChild(audio);
        }
      }
    });
  </script>

  <script src="script.js"></script>
</body>
</html>
